import{d as P,M as s,j as U,k as G,a as i,e as h,F as E,l as $,m as H,o as l,w as X,t as J,p as M,q as K,_ as Q}from"./index-29c7ec7a.js";const Y=""+new URL("bean-2da9bb00.png",import.meta.url).href,Z={class:"full beans"},ee={class:"ui full"},te={class:"flow-buttons"},ne=["onMousedown","onMouseup"],oe={class:"rects"},se={class:"circles"},ae=P({__name:"BeansBlend",setup(re){const a=window.screen.width,c=window.screen.height,z=s.Engine,v=s.Common,B=s.Runner,I=s.Composite,f=s.Bodies,_=[],D=[],O=2;for(let t=0;t<O;t++){const n=z.create();_.push(n),n.gravity.y=.5;const e=B.create();B.run(e,n)}const C={restitution:.95,friction:.2,frictionAir:.01},y=Object.assign({isStatic:!0},C),p=40,F=p/2,V=[f.rectangle(a/2,0-F,a,p,y),f.rectangle(a/2,c+F-50,a,p,y),f.rectangle(0,c/2,p,c,y),f.rectangle(a,c/2,p,c,y)];_.forEach(t=>{I.add(t.world,V)});const m=U([]),d=.1*a*.5;_.forEach(t=>{for(let n=0;n<30;n++){const e=v.random(d,a-d),o=v.random(d,c-d-200),r=v.random(.8*d,1.2*d),g=f.circle(e,o,r,C),b={x:e,y:o,r,a:0,brightness:Math.random()*.3+.2,body:g,j:0,f:-1,hue:0,brightness2:0};m.value.push(b),I.add(t.world,g)}});const w=U({energy:.5,inspiration:.5});let u;const j=.1;function R(t,n){!n&&u==null&&(S(t),u=window.setInterval(()=>S(t),200)),n&&u!=null&&(clearInterval(u),u=void 0)}function S(t){const n=w.value;n[t]+=j;for(const e in n)n[e]/=1+j}const x=s.Vector.create(),k=.05;let T;function W(){const t=m.value,n=w.value;for(let e=0;e<t.length;e++){const o=t[e];if(o.j=0,o.f>-1&&o.f--,o.brightness2=n.inspiration*3,Math.random()<.5)continue;let r=Math.random(),g="energy";for(const L in n){const N=n[L];if(r<=N){g=L;break}else r-=N}const b=o.body;switch(g){case"energy":if(Math.random()<.3)continue;o.j=1,x.x=Math.random()*k-k*.8,x.x*=.3,x.y=Math.random()*-k,H.Body.applyForce(b,b.position,x);break;case"inspiration":if(o.f>-1)break;o.f=3,o.hue=Math.round(v.random(-180,180));break}}T=window.setTimeout(W,2e3-w.value.energy*1500)}W();let q=!0;function A(){for(let t=0;t<m.value.length;t++){const n=m.value[t],e=n.body;n.x=e.position.x,n.y=e.position.y,n.r=e.circleRadius,n.a=e.angle*180/Math.PI}q&&requestAnimationFrame(A)}return A(),G(()=>{D.forEach(t=>{B.stop(t)}),window.clearInterval(u),window.clearTimeout(T),q=!1,_.forEach(t=>{s.World.clear(t.world,!1),s.Engine.clear(t)})}),(t,n)=>(l(),i("div",Z,[h("div",ee,[h("div",te,[(l(!0),i(E,null,$(w.value,(e,o)=>(l(),i("div",{key:o,class:"flow-button",onMousedown:X(r=>R(o),["prevent"]),onMouseup:X(r=>R(o,!0),["prevent"])},J(o+": "+Math.round(e*10)),41,ne))),128))])]),h("div",oe,[(l(),i(E,null,$(V,(e,o)=>h("div",{key:o,class:"rect",style:M({left:e.bounds.min.x+"px",width:e.bounds.max.x-e.bounds.min.x+"px",top:e.bounds.min.y+"px",height:e.bounds.max.y-e.bounds.min.y+"px"})},null,4)),64))]),h("div",se,[(l(!0),i(E,null,$(m.value,(e,o)=>(l(),i("div",{key:o,class:"circle",style:M({transform:`translate(${e.x}px,${e.y}px) rotate(${e.a}deg)`,filter:`brightness(${1+(e.f>0?e.brightness2:0)}) hue-rotate(${e.f>0?e.hue:0}deg)`})},[h("img",{class:"circle-img",src:Y,style:M({top:-e.r+"px",left:-e.r+"px",width:e.r*2+"px",height:e.r*2+"px",filter:`brightness(${e.brightness})`})},null,4),e.f>0?(l(),i("div",{key:0,class:"ring",style:M({top:-e.r+"px",left:-e.r+"px",width:e.r*2+"px",height:e.r*2+"px"})},null,4)):K("",!0)],4))),128))])]))}});const le=Q(ae,[["__scopeId","data-v-5c8a9c7f"]]);export{le as default};
