var D=Object.defineProperty;var H=(o,n,t)=>n in o?D(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t;var e=(o,n,t)=>(H(o,typeof n!="symbol"?n+"":n,t),t);import{h as x,i as S}from"./index-290d5920.js";var a=(o=>(o.Ma="Ma",o.Sa="Sa",o.Ex="Ex",o.Ev="Ev",o.Re="Re",o.He="He",o.Lo="Lo",o.Cr="Cr",o.In="In",o.En="En",o.Ru="Ru",o.Ca="Ca",o))(a||{});class E{constructor(){e(this,"name",null);e(this,"email",null);e(this,"age",null);e(this,"gender",null);e(this,"domicile",null);e(this,"info_from",null)}}var y=(o=>(o[o.welcome=0]="welcome",o[o.persona_instruction=1]="persona_instruction",o[o.persona_answers=2]="persona_answers",o[o.persona_conclusion=3]="persona_conclusion",o[o.shadow_instruction=4]="shadow_instruction",o[o.shadow_answers=5]="shadow_answers",o[o.self_instruction=6]="self_instruction",o[o.self_answers=7]="self_answers",o[o.end_conclusion=8]="end_conclusion",o[o.graph_instruction=9]="graph_instruction",o))(y||{}),B=(o=>(o.persona="persona",o.shadow="shadow",o.self="self",o.conclusion="conclusion",o))(B||{}),u=(o=>(o.persona="persona",o.shadow="shadow",o.self="self",o))(u||{});class C{constructor(){e(this,"Ca",0);e(this,"Ev",0);e(this,"In",0);e(this,"He",0);e(this,"Ex",0);e(this,"Re",0);e(this,"Lo",0);e(this,"Cr",0);e(this,"En",0);e(this,"Sa",0);e(this,"Ma",0);e(this,"Ru",0)}}class T{constructor(){e(this,"persona",a.Ev);e(this,"shadow",a.Ev);e(this,"self",a.Ev)}}class O{constructor(){e(this,"session_id");e(this,"reg_data",new E);e(this,"start_date");e(this,"start_time");e(this,"end_date");e(this,"end_time");e(this,"lastPage",null);e(this,"persona_scores",[]);e(this,"persona_scores_sum",new C);e(this,"top_archetypes",new T);e(this,"in_free_mode",!1)}}const _=[{id:a.Ma,label:"Magician",shadowLabel:"Manipulative",color:"#511737",colorLabel:"Ungu"},{id:a.Sa,label:"Sage",shadowLabel:"Judgemental",color:"#1c2355",colorLabel:"Biru Tua"},{id:a.Ex,label:"Explorer",shadowLabel:"Lost/Aimless",color:"#3b692f",colorLabel:"Hijau"},{id:a.Ev,label:"Everyman",shadowLabel:"Craves Recognition",color:"#405dad",colorLabel:"Biru"},{id:a.Re,label:"Rebel",shadowLabel:"Wicked",color:"#0f1128",colorLabel:"Hitam"},{id:a.He,label:"Hero",shadowLabel:"Arrogant",color:"#d83529",colorLabel:"Merah"},{id:a.Lo,label:"Lover",shadowLabel:"Envious",color:"#ec5ca5",colorLabel:"Pink"},{id:a.Cr,label:"Creator",shadowLabel:"Unsatisfiable",color:"#ef6e1b",colorLabel:"Oranye"},{id:a.In,label:"Innocent",shadowLabel:"Denialistic",color:"#7fcffa",colorLabel:"Biru muda"},{id:a.En,label:"Entertainer",shadowLabel:"Attention Seeking",color:"#f2d21c",colorLabel:"Kuning"},{id:a.Ru,label:"Ruler",shadowLabel:"Arbitrary",color:"#525252",colorLabel:"Abu-abu"},{id:a.Ca,label:"Caregiver",shadowLabel:"Codependent",color:"#edb2d3",colorLabel:"pink muda"}],V={};_.forEach(o=>{V[o.id]=o});const U=x("base",()=>{const o=S(new O),n=S(!1),t=_.length;o.value.top_archetypes.persona=_[Math.floor(Math.random()*t)].id,o.value.top_archetypes.self=_[Math.floor(Math.random()*t)].id,o.value.top_archetypes.shadow=_[Math.floor(Math.random()*t)].id;let w="white";function M(l){w=l}function m(l){const s=new Date,i=o.value;i.session_id=s.toISOString(),i.start_date=s.toLocaleDateString(),i.start_time=s.toLocaleTimeString(),i.reg_data=l}async function R({page:l=null,changes:s,resetPersonas:i}){const r=o.value;if(l&&(r.lastPage=l),r.in_free_mode=n.value,s){i&&(r.persona_scores.length=0,r.persona_scores_sum=new C);for(const c in s){const d=c,h=s[d];c==u.persona&&r.persona_scores.push(h);for(const b in h){const f=b,p=h[f];c==u.persona?r.persona_scores_sum[f]+=p:r.top_archetypes[d]=f}if(c==u.persona){let b=-1/0;for(const f in r.persona_scores_sum){const p=f,v=r.persona_scores_sum[p];v>b&&(r.top_archetypes.persona=p,b=v)}}}}window.localStorage.setItem("ourchetypeState",JSON.stringify({state:o}))}async function g(){const l=new Date,s=o.value;s.end_date=l.toLocaleDateString(),s.end_time=l.toLocaleTimeString(),n.value&&(s.in_free_mode=n.value)}function k(l,s,i,r){L(!0);const c=new E;c.email="--testing--",m(c);const d=[];s&&d.push([u.persona,[s,1e3]]),i&&d.push([u.shadow,[i,1e3]]),r&&d.push([u.self,[r,1e3]])}function L(l){n.value=l}return{submitAction:R,submitRegForm:m,state:o,endRun:g,setBackgroundColor:M,backgroundColor:w,setFreeMode:L,freeMode:n,freeSkip:k}});export{B as A,y as P,E as R,_ as a,U as b,V as c,u as d};
