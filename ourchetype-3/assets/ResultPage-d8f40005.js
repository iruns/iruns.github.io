import{_ as oe}from"./logo-3fa901dc.js";import{S as te,L as re,_ as ie}from"./PageContainer.vue_vue_type_style_index_0_lang-3904b936.js";import{d as ce,e as ue,f as v,r as t,W as fe,V as de,l as ve,o as $,m as se,w as ae,b as e,u as o,c as pe,t as W,n as k,g as R,Y as me,Z as ge,F as ye,p as _e,a as he,_ as be}from"./base-a4493cd8.js";import{I as Ee}from"./IncompleteAlert-21797c41.js";import{p as ke,a as we,i as ne,s as Se,b as xe,c as Ie}from"./images-5702e0d1.js";import{b as K}from"./archetypes-092167bb.js";import"./archetype-82cba3d4.js";const Be={normal:"source-over",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","color-dodge":"color-dodge","color-burn":"color-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"};function n(a,y,p=1,r){const f=y.getBoundingClientRect(),w=f.x*p,S=f.y*p,_=f.width*p,d=f.height*p,{style:i,innerText:L}=y,x=i.filter;x&&(a.filter=x);const z=Be[i.mixBlendMode]||"source-over";a.globalCompositeOperation=z;let m;switch(y.tagName){case"IMG":if(m=y,_!=null&&d!=null)if(r){const c=r.container.getBoundingClientRect(),I=c.x*p,B=c.y*p,h=c.width*p,C=c.height*p,b=m.naturalWidth/r.xSprites,T=m.naturalHeight/r.ySprites;a.drawImage(m,r.x*b,r.y*T,b,T,I,B,h,C)}else a.drawImage(m,w,S,_,d);else a.drawImage(m,w,S);break;case"DIV":i.backgroundColor&&(a.fillStyle=i.backgroundColor,a.fillRect(w,S,_,d),a.fillStyle="none");break}if(L&&L.length){a.fillStyle=i.color;let c=i.fontSize||"16px";const[,I,B]=c.match(/^([\d.]+)(\D+)$/);let h=Number(I)*p;B=="rem"&&(h*=16),c=h+"px";const C=[i.fontStyle,i.fontVariant,i.fontWeight,c,i.fontFamily];a.font=C.filter(b=>!!b).join(" "),a.textAlign=i.textAlign||"left",a.fillText(L,w,S+h,_),a.fillStyle="none"}a.filter="none",a.globalCompositeOperation="source-over"}const Ce=a=>(_e("data-v-bf88999c"),a=a(),he(),a),Le={class:"canvas-container"},Te={class:"intro"},Ne={class:"labels"},Re={class:"label-container"},We=["src"],ze={class:"label-container"},Fe=["src"],Me={class:"picture"},De=["src"],Ve=["src"],Ae=["src"],Pe={class:"parts"},je={class:"text"},He={class:"part-container"},Ge={class:"part-container"},Ue={class:"info"},Ye=Ce(()=>e("div",{class:"brands"},[e("h2",null,W(`Brand yang
sesuai dengan
Ourchetype-mu`)),e("div"),e("p",null,"Ingin tahu Ourchetype-mu lebih dekat?"),e("b",null,"Kunjungi dan temukan jawabannya di")],-1)),$e=ce({__name:"ResultPage",setup(a){const y=ue(),p=v(()=>y.regData.name),r=v(()=>y.progress.topArchetypes),f=v(()=>r.value.persona?K[r.value.persona]:null),w=v(()=>f.value?ke[f.value.id]:null),S=v(()=>f.value?we[f.value.id]:null),_=v(()=>{var u;return ne[((u=f.value)==null?void 0:u.id)||"Ev"]}),d=v(()=>r.value.self?K[r.value.self]:null),i=v(()=>d.value?Se[d.value.id]:null),L=v(()=>d.value?xe[d.value.id]:null),x=v(()=>r.value.shadow?K[r.value.shadow]:null),z=v(()=>x.value?Ie[x.value.id]:null),m=v(()=>{var u;return ne[((u=d.value)==null?void 0:u.id)||"Ev"]}),c=t({fontSize:"0.8rem",fontWeight:"bold",color:"black",fontFamily:"Nanum Myeongjo"}),I=t({fontSize:"1rem",fontWeight:"bold",color:"black",fontFamily:"Poppins"}),B=t(null),h=t(null),C=t(""),b=t(null),T=t(null),O=t(null),F=t(null),M=t(null),Z=t(null),D=t(null),V=t(null),A=t(null),q=t(null),J=t(null),P=t(null),j=t(null),H=t(null),G=t(null),Q=t(null),X=t(null),ee=t(null),le=t(null),U=t(null),Y=t(!1);return fe(()=>{y.setBGSetting({}),de(()=>{var g,l;j.value=((g=P.value)==null?void 0:g.getElementsByTagName("img")[0])||null,G.value=((l=H.value)==null?void 0:l.getElementsByTagName("img")[0])||null,U.value=document.getElementsByClassName("info-logo-set")[0].getElementsByTagName("img")[0]||null;const u=[b.value,F.value,M.value,D.value,V.value,A.value,j.value,G.value,U.value],N=setInterval(()=>{for(let E=0;E<u.length;E++){const s=u[E];s!=null&&s.complete&&s.naturalHeight&&(u.splice(E,1),E--)}u.length||(clearInterval(N),Y.value=!0)},1e3)})}),ve(Y,(u,N)=>{if(!N&&u){const g=h.value,l=g.getContext("2d"),E=B.value.getBoundingClientRect().width,s=g.clientWidth/E;l&&(l.fillStyle="#ffffff",l.fillRect(0,0,g.clientWidth,g.clientHeight),n(l,b.value,s),n(l,T.value,s),n(l,O.value,s),n(l,F.value,s),n(l,M.value,s),n(l,Z.value,s),n(l,D.value,s),n(l,V.value,s),n(l,A.value,s),n(l,q.value,s),n(l,J.value,s),n(l,j.value,s,{container:P.value,xSprites:3,ySprites:4,x:_.value.x,y:_.value.y}),n(l,G.value,s,{container:H.value,xSprites:3,ySprites:4,x:m.value.x,y:m.value.y}),n(l,Q.value,s),n(l,X.value,s),n(l,ee.value,s),n(l,le.value,s),n(l,U.value,s),C.value=g.toDataURL("image/png;base64"))}}),(u,N)=>($(),se(ie,{"inner-class":{result:!0}},{default:ae(()=>{var g,l;return[e("div",{ref_key:"widthEl",ref:B,style:{width:"100vw"}},null,512),!o(p)||!o(f)||!o(d)||!o(x)?($(),se(Ee,{key:0})):($(),pe(ye,{key:1},[e("div",Le,[e("canvas",{ref_key:"canvasEl",ref:h,width:1080,height:1920},null,512)]),e("img",{ref_key:"logoEl",ref:b,class:"logo",src:oe,style:{filter:"brightness(0)"}},null,512),e("p",Te,[e("span",{ref_key:"nameEl",ref:T,class:"name",style:{color:"black",fontFamily:"Poppins",fontWeight:"bold",fontSize:"1rem"}},W(o(y).regData.name)+"'s ",513),e("span",{ref_key:"todayEl",ref:O,style:{color:"black",fontFamily:"Nanum Myeongjo",fontSize:"1rem"}}," Ourchetype today is ",512)]),e("div",Ne,[e("div",Re,[e("img",{ref_key:"personaTextEl",ref:F,src:o(S)},null,8,We)]),e("div",ze,[e("img",{ref_key:"selfTextEl",ref:M,src:o(L)},null,8,Fe)]),e("div",{ref_key:"screenEl",ref:Z,class:"screen",style:k({backgroundColor:o(d).color,mixBlendMode:"lighten"})},null,4)]),e("div",Me,[e("img",{ref_key:"selfEl",ref:D,class:"self",src:o(i)},null,8,De),e("img",{ref_key:"personaEl",ref:V,class:"persona",src:o(w)},null,8,Ve),e("img",{ref_key:"shadowEl",ref:A,class:"shadow",src:o(z)},null,8,Ae)]),e("div",Pe,[e("div",je,[e("p",{ref_key:"fusion1El",ref:q,style:k(c.value)}," Your fusion ",4),e("p",{ref_key:"fusion2El",ref:J,style:k(c.value)},"is from",4)]),e("div",He,[e("div",{ref_key:"part1El",ref:P,class:"part"},[R(te,{src:"elements-small.webp",alt:"Elemen 1","x-sprites":3,"y-sprites":4,x:o(_).x,y:o(_).y},null,8,["x","y"])],512),e("span",{ref_key:"part1LabelEl",ref:Q,class:"part-label",style:k(c.value)},W(((g=o(f))==null?void 0:g.labels.root)||""),5)]),e("div",Ge,[e("div",{ref_key:"part2El",ref:H,class:"part"},[R(te,{src:"elements-small.webp",alt:"Elemen 2","x-sprites":3,"y-sprites":4,x:o(m).x,y:o(m).y},null,8,["x","y"])],512),e("span",{ref_key:"part2LabelEl",ref:X,class:"part-label",style:k(c.value)},W(((l=o(d))==null?void 0:l.labels.root)||""),5)])]),e("div",Ue,[e("p",{ref_key:"info1El",ref:ee,style:k(I.value)}," 25 April - 25 Mei 2023 ",4),e("p",{ref_key:"info2El",ref:le,style:k(I.value)}," at The Hallway Space, Bandung ",4),R(re,{class:"info-logo-set",style:{"margin-top":"1rem"}})]),R(ge,{class:"cta",disabled:!Y.value,download:"Ourchetype.png",href:C.value},{default:ae(()=>[me(" Share ")]),_:1},8,["disabled","download","href"]),Ye],64))]}),_:1}))}});const el=be($e,[["__scopeId","data-v-bf88999c"]]);export{el as default};
