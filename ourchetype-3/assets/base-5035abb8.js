var D=Object.defineProperty;var H=(a,s,l)=>s in a?D(a,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[s]=l;var e=(a,s,l)=>(H(a,typeof s!="symbol"?s+"":s,l),l);import{i as x,j as S}from"./index-2ea636ac.js";var o=(a=>(a.Ma="Ma",a.Sa="Sa",a.Ex="Ex",a.Ev="Ev",a.Re="Re",a.He="He",a.Lo="Lo",a.Cr="Cr",a.In="In",a.En="En",a.Ru="Ru",a.Ca="Ca",a))(o||{}),y=(a=>(a.pria="pria",a.wanita="wanita",a))(y||{}),B=(a=>(a.bandung="Bandung",a.luar="Luar Bandung",a))(B||{});class E{constructor(){e(this,"name",null);e(this,"email",null);e(this,"age",null);e(this,"gender",null);e(this,"domicile",null);e(this,"info_from",null)}}var T=(a=>(a[a.welcome=0]="welcome",a[a.persona_instruction=1]="persona_instruction",a[a.persona_answers=2]="persona_answers",a[a.persona_conclusion=3]="persona_conclusion",a[a.shadow_instruction=4]="shadow_instruction",a[a.shadow_answers=5]="shadow_answers",a[a.self_instruction=6]="self_instruction",a[a.self_answers=7]="self_answers",a[a.end_conclusion=8]="end_conclusion",a[a.graph_instruction=9]="graph_instruction",a))(T||{}),u=(a=>(a.persona="persona",a.shadow="shadow",a.self="self",a))(u||{});class g{constructor(){e(this,"Ca",0);e(this,"Ev",0);e(this,"In",0);e(this,"He",0);e(this,"Ex",0);e(this,"Re",0);e(this,"Lo",0);e(this,"Cr",0);e(this,"En",0);e(this,"Sa",0);e(this,"Ma",0);e(this,"Ru",0)}}class O{constructor(){e(this,"persona",o.Ev);e(this,"shadow",o.Ev);e(this,"self",o.Ev)}}class V{constructor(){e(this,"session_id");e(this,"reg_data",new E);e(this,"start_date");e(this,"start_time");e(this,"end_date");e(this,"end_time");e(this,"lastPage",null);e(this,"persona_scores",[]);e(this,"persona_scores_sum",new g);e(this,"top_archetypes",new O);e(this,"in_free_mode",!1)}}const f=[{id:o.Ma,label:"Magician",shadowLabel:"Manipulative",color:"#511737",colorLabel:"Ungu"},{id:o.Sa,label:"Sage",shadowLabel:"Judgemental",color:"#1c2355",colorLabel:"Biru Tua"},{id:o.Ex,label:"Explorer",shadowLabel:"Lost/Aimless",color:"#3b692f",colorLabel:"Hijau"},{id:o.Ev,label:"Everyman",shadowLabel:"Craves Recognition",color:"#405dad",colorLabel:"Biru"},{id:o.Re,label:"Rebel",shadowLabel:"Wicked",color:"#0f1128",colorLabel:"Hitam"},{id:o.He,label:"Hero",shadowLabel:"Arrogant",color:"#d83529",colorLabel:"Merah"},{id:o.Lo,label:"Lover",shadowLabel:"Envious",color:"#ec5ca5",colorLabel:"Pink"},{id:o.Cr,label:"Creator",shadowLabel:"Unsatisfiable",color:"#ef6e1b",colorLabel:"Oranye"},{id:o.In,label:"Innocent",shadowLabel:"Denialistic",color:"#7fcffa",colorLabel:"Biru muda"},{id:o.En,label:"Entertainer",shadowLabel:"Attention Seeking",color:"#f2d21c",colorLabel:"Kuning"},{id:o.Ru,label:"Ruler",shadowLabel:"Arbitrary",color:"#525252",colorLabel:"Abu-abu"},{id:o.Ca,label:"Caregiver",shadowLabel:"Codependent",color:"#edb2d3",colorLabel:"pink muda"}],j={};f.forEach(a=>{j[a.id]=a});const U=x("base",()=>{const a=S(new V),s=S(!1),l=f.length;a.value.top_archetypes.persona=f[Math.floor(Math.random()*l)].id,a.value.top_archetypes.self=f[Math.floor(Math.random()*l)].id,a.value.top_archetypes.shadow=f[Math.floor(Math.random()*l)].id;let w="white";function C(t){w=t}function m(t){const n=new Date,i=a.value;i.session_id=n.toISOString(),i.start_date=n.toLocaleDateString(),i.start_time=n.toLocaleTimeString(),i.reg_data=t}async function M({page:t=null,changes:n,resetPersonas:i}){const r=a.value;if(t&&(r.lastPage=t),r.in_free_mode=s.value,n){i&&(r.persona_scores.length=0,r.persona_scores_sum=new g);for(const c in n){const d=c,h=n[d];c==u.persona&&r.persona_scores.push(h);for(const b in h){const _=b,p=h[_];c==u.persona?r.persona_scores_sum[_]+=p:r.top_archetypes[d]=_}if(c==u.persona){let b=-1/0;for(const _ in r.persona_scores_sum){const p=_,v=r.persona_scores_sum[p];v>b&&(r.top_archetypes.persona=p,b=v)}}}}window.localStorage.setItem("ourchetypeState",JSON.stringify({state:a}))}async function R(){const t=new Date,n=a.value;n.end_date=t.toLocaleDateString(),n.end_time=t.toLocaleTimeString(),s.value&&(n.in_free_mode=s.value)}function k(t,n,i,r){L(!0);const c=new E;c.email="--testing--",m(c);const d=[];n&&d.push([u.persona,[n,1e3]]),i&&d.push([u.shadow,[i,1e3]]),r&&d.push([u.self,[r,1e3]])}function L(t){s.value=t}return{submitAction:M,submitRegForm:m,state:a,endRun:R,setBackgroundColor:C,backgroundColor:w,setFreeMode:L,freeMode:s,freeSkip:k}});export{B as D,y as G,u as P,E as R,f as a,U as b,T as c,j as d};
