import{d as be,b as Ee,E as we,q as ke,c as f,s as a,I as xe,T as Se,w as Ie,v as ve,x as me,o as X,e,u as t,a as Ce,U as Be,t as S,B as F,K as I,h as W,k as z,D as Re,F as Le,S as Z,V as Te,W as Me,Q as ee,X as Ke,Y as Ne,Z as We,p as De,m as Fe,_ as ze}from"./index-3a343bb9.js";import{_ as Ve,L as Ae}from"./PageContainer.vue_vue_type_style_index_0_lang-b830fa0b.js";import{S as le}from"./SpriteSheetImg-b127eb21.js";import{I as He}from"./IncompleteAlert-83c44f6e.js";const Pe=""+new URL("shadow-orbit-903cdd91.webp",import.meta.url).href,Ue={normal:"source-over",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","color-dodge":"color-dodge","color-burn":"color-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"};function i(r,C,u=1,b,B){const m=C.getBoundingClientRect(),c=m.x*u,R=m.y*u,L=m.width*u,E=m.height*u,{style:n,innerText:N}=C,D=n.filter;D&&(r.filter=D);const T=Ue[n.mixBlendMode]||"source-over";r.globalCompositeOperation=T;let v;switch(C.tagName){case"IMG":if(v=C,L!=null&&E!=null)if(b){const d=b.container.getBoundingClientRect(),w=d.x*u,M=d.y*u,_=d.width*u,K=d.height*u,x=v.naturalWidth/b.xSprites,k=v.naturalHeight/b.ySprites;r.drawImage(v,b.x*x,b.y*k,x,k,w,M,_,K)}else r.drawImage(v,c,R,L,E);else r.drawImage(v,c,R);break;case"DIV":n.backgroundColor&&(r.fillStyle=n.backgroundColor,r.fillRect(c,R,L,E),r.fillStyle="none");break}if(N&&N.length){r.fillStyle=n.color;let d=n.fontSize||"16px";const[,w,M]=d.match(/^([\d.]+)(\D+)$/);let _=Number(w)*u;M=="rem"&&(_*=16);const K=((B==null?void 0:B.y)||0)*_;d=_+"px";const x=[n.fontStyle,n.fontVariant,n.fontWeight,d,n.fontFamily];r.font=x.filter(k=>!!k).join(" "),r.textAlign=n.textAlign||"left",r.fillText(N,c,R+_+K,L),r.fillStyle="none"}r.filter="none",r.globalCompositeOperation="source-over"}const pe={Ca:[{label:"Kemiri"}],Cr:[{label:"Kemiri"}],En:[{label:"Kemiri"}],Ev:[{label:"Kemiri"}],Ex:[{label:"Kemiri"}],He:[{label:"Kemiri"}],In:[{label:"Kemiri"}],Lo:[{label:"Kemiri"}],Ma:[{label:"Kemiri"}],Re:[{label:"Kemiri"}],Ru:[{label:"Kemiri"}],Sa:[{label:"Kemiri"}]},ge=r=>(De("data-v-a1cea105"),r=r(),Fe(),r),je={class:"canvas-container"},Ye={class:"intro"},$e={class:"labels"},qe={class:"label-container"},Ge=["src"],Je={class:"label-container"},Oe=["src"],Qe={class:"picture"},Xe=["src","alt"],Ze=["src","alt"],el=["alt"],ll={class:"parts"},al={class:"text"},tl={class:"part-container"},sl={class:"part-container"},ol={class:"info"},nl=ge(()=>e("p",{class:"ig"},[z(" My "),e("a",{href:"https://www.instagram.com/ourchetype",target:"_blank",rel:"noopener noreferrer"}," @ourchetype "),z(" ðŸ’–"),e("br"),z("at "),e("a",{href:"https://www.instagram.com/thehallwayspace_",target:"_blank",rel:"noopener noreferrer"}," @thehallwayspace_ ")],-1)),rl={class:"result-items"},il=ge(()=>e("div",{class:"result-items-logos"},null,-1)),cl=be({__name:"ResultPage",setup(r){const C="./imgs",u=Ee(),b=we();ke(),f(()=>b.lang);const B=f(()=>u.regData.name),m=f(()=>u.progress.topArchetypes),c=f(()=>m.value.persona?Z[m.value.persona]:null),R=f(()=>c.value?Te[c.value.id]:null),L=f(()=>c.value?Me[c.value.id]:null),E=f(()=>{var o;return ee[((o=c.value)==null?void 0:o.id)||"Ev"]}),n=f(()=>m.value.self?Z[m.value.self]:null),N=f(()=>n.value?Ke[n.value.id]:null),D=f(()=>n.value?Ne[n.value.id]:null),T=f(()=>{var o;return ee[((o=n.value)==null?void 0:o.id)||"Ev"]}),v=f(()=>m.value.shadow?Z[m.value.shadow]:null),d=f(()=>{var o;return ee[((o=v.value)==null?void 0:o.id)||"Ev"]}),w=a({fontSize:"0.8rem",fontWeight:"bold",color:"black",fontFamily:"Nanum Myeongjo"}),M=a({fontSize:"1rem",fontWeight:"bold",color:"black",fontFamily:"Poppins"}),_=a(null),K=a(null),x=a(""),k=a(null),ae=a(null),te=a(null),V=a(null),A=a(null),se=a(null),H=a(null),P=a(null),oe=a(null),U=a(null),j=a(null),Y=a(null),ne=a(null),re=a(null),$=a(null),q=a(null),G=a(null),J=a(null),ie=a(null),ce=a(null),ue=a(null),de=a(null),O=a(null),Q=a(!1);xe(()=>{Se(()=>{var p,l,g;Y.value=((p=j.value)==null?void 0:p.getElementsByTagName("img")[0])||null,G.value=((l=$.value)==null?void 0:l.getElementsByTagName("img")[0])||null,J.value=((g=q.value)==null?void 0:g.getElementsByTagName("img")[0])||null,O.value=document.getElementsByClassName("info-logo-set")[0].getElementsByTagName("img")[0]||null;const o=[k.value,V.value,A.value,H.value,P.value,U.value,Y.value,G.value,J.value,O.value],s=setInterval(()=>{for(let y=0;y<o.length;y++){const h=o[y];h!=null&&h.complete&&h.naturalHeight&&(o.splice(y,1),y--)}o.length||(clearInterval(s),Q.value=!0)},1e3)})}),Ie(Q,(o,s)=>{!s&&o&&(ye(),oe.value.style.animationDuration="10s",_e())});function ye(){const o=K.value,s=o.getContext("2d"),p=_.value.getBoundingClientRect().width,l=o.clientWidth/p;s&&(s.fillStyle="#ffffff",s.fillRect(0,0,o.clientWidth,o.clientHeight),i(s,k.value,l),i(s,ae.value,l,void 0,{x:0,y:.1}),i(s,te.value,l),i(s,V.value,l),i(s,A.value,l),i(s,se.value,l),i(s,H.value,l),i(s,P.value,l),i(s,U.value,l),i(s,Y.value,l,{container:j.value,xSprites:3,ySprites:4,x:d.value.x,y:d.value.y}),i(s,ne.value,l),i(s,re.value,l),i(s,G.value,l,{container:$.value,xSprites:3,ySprites:4,x:E.value.x,y:E.value.y}),i(s,J.value,l,{container:q.value,xSprites:3,ySprites:4,x:T.value.x,y:T.value.y}),i(s,ie.value,l),i(s,ce.value,l),i(s,ue.value,l),i(s,de.value,l),i(s,O.value,l),x.value=o.toDataURL("image/png;base64"))}const he=a([]);function _e(){const o=he.value;c.value&&o.push(...pe[c.value.id]),n.value&&c.value!=n.value&&o.push(...pe[n.value.id]),o.sort((l,g)=>l.label>g.label?1:-1);const s=C+"/result-items/";for(let l=0;l<o.length;l++){const g=o[l];let y=We(g.label);const h=s+y+".webp";var p=new Image;p.onload=()=>{g.imgUrl=h},p.src=h}}return(o,s)=>(X(),ve(Ve,{"inner-class":{result:!0}},{default:me(()=>{var p,l,g,y,h,fe;return[e("div",{ref_key:"widthEl",ref:_,style:{width:"100vw"}},null,512),!t(B)||!t(c)||!t(n)||!t(v)?(X(),ve(He,{key:0,message:JSON.stringify({name:t(B),persona:t(c),self:t(n),shadow:t(v)},null,2)},null,8,["message"])):(X(),Ce(Le,{key:1},[e("div",je,[e("canvas",{ref_key:"canvasEl",ref:K,width:1080,height:1920},null,512)]),e("img",{ref_key:"logoEl",ref:k,class:"logo",src:Be,style:{filter:"brightness(0)"}},null,512),e("p",Ye,[e("span",{ref_key:"nameEl",ref:ae,class:"name",style:{color:"black",fontFamily:"Poppins",fontWeight:"bold",fontSize:"1rem"}},S(t(u).regData.name)+"'s ",513),e("span",{ref_key:"todayEl",ref:te,style:{color:"black",fontFamily:"Marcellus",fontSize:"1rem"}},S(t(F)("intro")),513)]),e("div",$e,[e("div",qe,[e("img",{ref_key:"personaTextEl",ref:V,src:t(L)},null,8,Ge)]),e("div",Je,[e("img",{ref_key:"selfTextEl",ref:A,src:t(D)},null,8,Oe)]),e("div",{ref_key:"screenEl",ref:se,class:"screen",style:I({backgroundColor:t(n).color.hex,mixBlendMode:"lighten"})},null,4)]),e("div",Qe,[e("img",{ref_key:"selfEl",ref:H,class:"part-large self",src:t(N),alt:(p=t(n))==null?void 0:p.labels.root},null,8,Xe),e("img",{ref_key:"personaEl",ref:P,class:"part-large persona",src:t(R),alt:(l=t(c))==null?void 0:l.labels.root},null,8,Ze),e("div",{ref_key:"shadowEl",ref:oe,class:"part-large shadow"},[e("img",{ref_key:"shadowOrbitEl",ref:U,class:"shadow-orbit",src:Pe,alt:(g=t(v))==null?void 0:g.labels.root},null,8,el),e("div",{ref_key:"shadowIconEl",ref:j,class:"shadow-icon"},[W(le,{src:"shadow-icons.webp",alt:(y=t(v))==null?void 0:y.labels.root,"x-sprites":3,"y-sprites":4,x:t(d).x,y:t(d).y},null,8,["alt","x","y"])],512)],512)]),e("div",ll,[e("div",al,[e("p",{ref_key:"fusion1El",ref:ne,style:I(w.value)},S(t(F)("fusion1")),5),e("p",{ref_key:"fusion2El",ref:re,style:I(w.value)},S(t(F)("fusion2")),5)]),e("div",tl,[e("div",{ref_key:"part1El",ref:$,class:"part"},[W(le,{src:"elements-small.webp",alt:"Element 1","x-sprites":3,"y-sprites":4,x:t(E).x,y:t(E).y},null,8,["x","y"])],512),e("span",{ref_key:"part1LabelEl",ref:ie,style:I(w.value)},S(((h=t(c))==null?void 0:h.labels.root)||""),5)]),e("div",sl,[e("div",{ref_key:"part2El",ref:q,class:"part"},[W(le,{src:"elements-small.webp",alt:"Element 2","x-sprites":3,"y-sprites":4,x:t(T).x,y:t(T).y},null,8,["x","y"])],512),e("span",{ref_key:"part2LabelEl",ref:ce,style:I(w.value)},S(((fe=t(n))==null?void 0:fe.labels.root)||""),5)])]),e("div",ol,[e("p",{ref_key:"info1El",ref:ue,style:I(M.value)}," 25 April - 25 Mei 2023 ",4),e("p",{ref_key:"info2El",ref:de,style:I(M.value)}," at The Hallway Space, Bandung ",4),W(Ae,{class:"info-logo-set",style:{"margin-top":"1rem"}})]),W(Re,{class:"cta",disabled:!Q.value,download:"Ourchetype.png",href:x.value},{default:me(()=>[z(" Share ")]),_:1},8,["disabled","download","href"]),nl,e("div",rl,[e("h2",null,S(t(F)("items_intro")),1),il])],64))]}),_:1}))}});const ml=ze(cl,[["__scopeId","data-v-a1cea105"]]);export{ml as default};
